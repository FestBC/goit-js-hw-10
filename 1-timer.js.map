{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport iziToast from \"izitoast\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst datetimePicker = document.querySelector(\"#datetime-picker\");\nconst btn = document.querySelector(\"button\");\nconst daysValue = document.querySelector(\".value[data-days]\");\nconst hoursValue = document.querySelector(\".value[data-hours]\");\nconst minutesValue = document.querySelector(\".value[data-minutes]\");\nconst secondsValue = document.querySelector(\".value[data-seconds]\");\n\nlet userSelectedDate;\n\nbtn.disabled = true;\n\nbtn.addEventListener(\"click\", (event) => {\n  event.preventDefault();\n  btn.disabled = true;\n  datetimePicker.disabled = true;\n\n  const timer = setInterval(() => {\n    const timeDifference = userSelectedDate - Date.now();\n\n    if (timeDifference > 0) {\n\n      const { days, hours, minutes, seconds } = convertMs(timeDifference);\n      const { fDays, fHours, fMinutes, fSeconds } = addLeadingZero({ days, hours, minutes, seconds });\n\n      daysValue.textContent = fDays;\n      hoursValue.textContent = fHours;\n      minutesValue.textContent = fMinutes;\n      secondsValue.textContent = fSeconds;\n\n      console.log(`Interval timer is working: ${days}d, ${hours}h, ${minutes}m, ${seconds}s.`);\n    } else {\n      clearInterval(timer);\n      datetimePicker.disabled = false;\n\n      console.log(\"Interval timer has been stopped!\");\n    }\n  }, 1000);\n});\n\nflatpickr(datetimePicker, {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n      console.log(selectedDates[0]);\n      \n      if (Date.now() <= selectedDates[0].getTime()) {\n        userSelectedDate = selectedDates[0].getTime();\n        btn.disabled = false;\n      } else {\n          iziToast.error({\n            title: \"Warning!\",\n            message: \"Please choose a date in the future\",\n            position: \"topCenter\"\n          });\n          btn.disabled = true;\n      }\n    }\n});\n\nfunction convertMs(ms) {\n    // Number of milliseconds per unit of time\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n  \n    // Remaining days\n    const days = Math.floor(ms / day);\n    // Remaining hours\n    const hours = Math.floor((ms % day) / hour);\n    // Remaining minutes\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    // Remaining seconds\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n  \n    return { days, hours, minutes, seconds };\n  }\n  \nfunction addLeadingZero({ days, hours, minutes, seconds }) {\n    const fDays = String(days).padStart(2, \"0\");\n    const fHours = String(hours).padStart(2, \"0\");\n    const fMinutes = String(minutes).padStart(2, \"0\");\n    const fSeconds = String(seconds).padStart(2, \"0\");\n\n    return { fDays, fHours, fMinutes, fSeconds };\n}\n\n\nconsole.log(convertMs(2000)); // {days: 0, hours: 0, minutes: 0, seconds: 2}\nconsole.log(convertMs(140000)); // {days: 0, hours: 0, minutes: 2, seconds: 20}\nconsole.log(convertMs(24140000)); // {days: 0, hours: 6 minutes: 42, seconds: 20}\n\nconsole.log(addLeadingZero(convertMs(2000))); // {fDays: \"00\", fHours: \"00\", fMinutes: \"00\", fSeconds: \"02\"}\nconsole.log(addLeadingZero(convertMs(140000))); // {fDays: \"00\", fHours: \"00\", fMinutes: \"02\", fSeconds: \"20\"}\nconsole.log(addLeadingZero(convertMs(24140000))); // {fDays: \"00\", fHours: \"06\" fMinutes: \"42\", fSeconds: \"20\"}"],"names":["datetimePicker","btn","daysValue","hoursValue","minutesValue","secondsValue","userSelectedDate","event","timer","timeDifference","days","hours","minutes","seconds","convertMs","fDays","fHours","fMinutes","fSeconds","addLeadingZero","flatpickr","selectedDates","iziToast","ms"],"mappings":"2GAMA,MAAMA,EAAiB,SAAS,cAAc,kBAAkB,EAC1DC,EAAM,SAAS,cAAc,QAAQ,EACrCC,EAAY,SAAS,cAAc,mBAAmB,EACtDC,EAAa,SAAS,cAAc,oBAAoB,EACxDC,EAAe,SAAS,cAAc,sBAAsB,EAC5DC,EAAe,SAAS,cAAc,sBAAsB,EAElE,IAAIC,EAEJL,EAAI,SAAW,GAEfA,EAAI,iBAAiB,QAAUM,GAAU,CACvCA,EAAM,eAAgB,EACtBN,EAAI,SAAW,GACfD,EAAe,SAAW,GAE1B,MAAMQ,EAAQ,YAAY,IAAM,CAC9B,MAAMC,EAAiBH,EAAmB,KAAK,IAAK,EAEpD,GAAIG,EAAiB,EAAG,CAEtB,KAAM,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAS,EAAGC,EAAUL,CAAc,EAC5D,CAAE,MAAAM,EAAO,OAAAC,EAAQ,SAAAC,EAAU,SAAAC,CAAU,EAAGC,EAAe,CAAE,KAAAT,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAAE,EAE9FX,EAAU,YAAca,EACxBZ,EAAW,YAAca,EACzBZ,EAAa,YAAca,EAC3BZ,EAAa,YAAca,EAE3B,QAAQ,IAAI,8BAA8BR,CAAI,MAAMC,CAAK,MAAMC,CAAO,MAAMC,CAAO,IAAI,CAC7F,MACM,cAAcL,CAAK,EACnBR,EAAe,SAAW,GAE1B,QAAQ,IAAI,kCAAkC,CAEjD,EAAE,GAAI,CACT,CAAC,EAEDoB,EAAUpB,EAAgB,CACtB,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQqB,EAAe,CACrB,QAAQ,IAAIA,EAAc,CAAC,CAAC,EAExB,KAAK,IAAK,GAAIA,EAAc,CAAC,EAAE,WACjCf,EAAmBe,EAAc,CAAC,EAAE,QAAS,EAC7CpB,EAAI,SAAW,KAEbqB,EAAS,MAAM,CACb,MAAO,WACP,QAAS,qCACT,SAAU,WACtB,CAAW,EACDrB,EAAI,SAAW,GAEzB,CACA,CAAC,EAED,SAASa,EAAUS,EAAI,CAQnB,MAAMb,EAAO,KAAK,MAAMa,EAAK,KAAG,EAE1BZ,EAAQ,KAAK,MAAOY,EAAK,MAAO,IAAI,EAEpCX,EAAU,KAAK,MAAQW,EAAK,MAAO,KAAQ,GAAM,EAEjDV,EAAU,KAAK,MAASU,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAb,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAS,CAC5C,CAEA,SAASM,EAAe,CAAE,KAAAT,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAI,CACvD,MAAME,EAAQ,OAAOL,CAAI,EAAE,SAAS,EAAG,GAAG,EACpCM,EAAS,OAAOL,CAAK,EAAE,SAAS,EAAG,GAAG,EACtCM,EAAW,OAAOL,CAAO,EAAE,SAAS,EAAG,GAAG,EAC1CM,EAAW,OAAOL,CAAO,EAAE,SAAS,EAAG,GAAG,EAEhD,MAAO,CAAE,MAAAE,EAAO,OAAAC,EAAQ,SAAAC,EAAU,SAAAC,CAAU,CAChD,CAGA,QAAQ,IAAIJ,EAAU,GAAI,CAAC,EAC3B,QAAQ,IAAIA,EAAU,IAAM,CAAC,EAC7B,QAAQ,IAAIA,EAAU,MAAQ,CAAC,EAE/B,QAAQ,IAAIK,EAAeL,EAAU,GAAI,CAAC,CAAC,EAC3C,QAAQ,IAAIK,EAAeL,EAAU,IAAM,CAAC,CAAC,EAC7C,QAAQ,IAAIK,EAAeL,EAAU,MAAQ,CAAC,CAAC"}